"use strict";(self.webpackChunksquadGG=self.webpackChunksquadGG||[]).push([[788],{788:(O,c,i)=>{i.r(c),i.d(c,{AuthModule:()=>L});var d=i(6895),o=i(433),u=i(3456),e=i(1571),h=i(9118),f=i(1482),b=i(6642);const _=["myForm"],x=["loginRef"];function Z(t,s){1&t&&(e.TgZ(0,"span",24),e._uU(1," Username es obligatorio "),e.qZA())}function v(t,s){1&t&&(e.TgZ(0,"span",24),e._uU(1," Contrase\xf1a es obligatoria "),e.qZA())}const y=function(){return["/auth/registrer"]},U=i(5226);let C=(()=>{class t{constructor(n,r,a,l){this.authService=n,this.router=r,this.commonService=a,this.socialAuthService=l,this.isLoggedIn=!1}ngOnInit(){}notValidUsername(){return this.myForm?.controls.username?.invalid&&this.myForm?.controls.username?.touched}notValidPassword(){return this.myForm?.controls.password?.invalid&&this.myForm?.controls.password?.touched}onlogin(){this.authService.login(this.myForm.value.username,this.myForm.value.password).subscribe({next:n=>{this.isLoggedIn=!0,this.sendMessage(),n?this.router.navigate(["/game"]):(this.username="",this.password="",U.fire({icon:"error",title:"Oops...",text:"Usuario or Contrase\xf1a err\xf3neo!"}),this.router.navigate(["/auth/login"]))}})}sendMessage(){this.commonService.sendUpdate("Message from Sender Component to Receiver Component!")}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(h.e),e.Y36(u.F0),e.Y36(f.v),e.Y36(b.xE))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],viewQuery:function(n,r){if(1&n&&(e.Gf(_,5),e.Gf(x,7)),2&n){let a;e.iGM(a=e.CRH())&&(r.myForm=a.first),e.iGM(a=e.CRH())&&(r.loginElement=a.first)}},decls:57,vars:7,consts:[[1,"container","px-4","py-5","px-md-5","text-center","text-lg-start","my-5"],[1,"row","gx-lg-5","align-items-center","mb-5"],[1,"col-lg-6","mb-5","mb-lg-0",2,"z-index","10"],[1,"my-5","display-5","fw-bold","ls-tight",2,"color","hsl(218, 81%, 95%)"],[2,"color","hsl(218, 81%, 75%)"],[1,"mb-4","opacity-70",2,"color","hsl(281.37deg 100% 94.94%)"],[1,"col-lg-6","mb-5","mb-lg-0","position-relative"],["id","radius-shape-1",1,"position-absolute","rounded-circle","shadow-5-strong"],["id","radius-shape-2",1,"position-absolute","shadow-5-strong"],[1,"card","bg-glass"],[1,"card-body","px-4","py-5","px-md-5"],["autocomplete","off",3,"ngSubmit"],["myForm","ngForm"],[1,"form-outline","mb-4"],["for","form3Example3",1,"form-label"],["type","text","id","form3Example3","name","username","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","form-text text-danger",4,"ngIf"],["for","form3Example4",1,"form-label"],["type","password","id","form3Example4","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","btn-block","mb-4",3,"disabled"],[1,"text-center"],[3,"routerLink"],["id","g_id_onload","data-client_id","807418543433-0hjiibg74ddg11liscb6tlnu774g41v7.apps.googleusercontent.com","data-login_uri","http://localhost:4200","data-auto_prompt","false"],["data-type","standard","data-size","large","data-theme","outline","data-text","sign_in_with","data-shape","rectangular","data-logo_alignment","left",1,"g_id_signin"],[1,"form-text","text-danger"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4," La mejor forma "),e._UZ(5,"br"),e.TgZ(6,"span",4),e._uU(7,"de divertirse"),e.qZA()(),e.TgZ(8,"p",5),e._uU(9," Haz login y obt\xe9n un "),e.TgZ(10,"b"),e._uU(11,"acceso total"),e.qZA(),e._uU(12," a los posts para encontrar a tu "),e.TgZ(13,"b"),e._uU(14,"SQUAD"),e.qZA(),e._uU(15," perfecto. "),e._UZ(16,"br"),e._uU(17," O "),e.TgZ(18,"b"),e._uU(19,"crea"),e.qZA(),e._uU(20," tu mismo un post para encontrarlos. "),e._UZ(21,"br"),e._uU(22," Porque la mejor forma de jugar siempre ser\xe1 con "),e.TgZ(23,"b"),e._uU(24,"amigos"),e.qZA(),e._uU(25," , y aqu\xed podr\xe1s encontrar a las personas que se adapten a tus requisitos "),e._UZ(26,"br"),e.TgZ(27,"b"),e._uU(28,"\xbfA que esperas?"),e.qZA()()(),e.TgZ(29,"div",6),e._UZ(30,"div",7)(31,"div",8),e.TgZ(32,"div",9)(33,"div",10)(34,"h2"),e._uU(35,"Login"),e.qZA(),e.TgZ(36,"form",11,12),e.NdJ("ngSubmit",function(){return r.onlogin()}),e.TgZ(38,"div",13)(39,"label",14),e._uU(40,"Username"),e.qZA(),e.TgZ(41,"input",15),e.NdJ("ngModelChange",function(l){return r.username=l}),e.qZA(),e.YNc(42,Z,2,0,"span",16),e.qZA(),e.TgZ(43,"div",13)(44,"label",17),e._uU(45,"Contrase\xf1a"),e.qZA(),e.TgZ(46,"input",18),e.NdJ("ngModelChange",function(l){return r.password=l}),e.qZA(),e.YNc(47,v,2,0,"span",16),e.qZA(),e.TgZ(48,"button",19),e._uU(49," Entrar "),e.qZA(),e.TgZ(50,"div",20)(51,"p"),e._uU(52,"Si no tienes una cuenta puedes "),e.TgZ(53,"a",21),e._uU(54,"registrarte"),e.qZA()()()(),e._UZ(55,"div",22)(56,"div",23),e.qZA()()()()()),2&n){const a=e.MAs(37);e.xp6(41),e.Q6J("ngModel",r.username),e.xp6(1),e.Q6J("ngIf",r.notValidUsername()),e.xp6(4),e.Q6J("ngModel",r.password),e.xp6(1),e.Q6J("ngIf",r.notValidPassword()),e.xp6(1),e.Q6J("disabled",a.invalid),e.xp6(5),e.Q6J("routerLink",e.DdM(6,y))}},dependencies:[d.O5,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.On,o.F,u.yS],styles:[".background-radial-gradient[_ngcontent-%COMP%]{background-color:#172236;background-image:radial-gradient(650px circle at 0% 0%,hsl(218,41%,35%) 15%,hsl(218,41%,30%) 35%,hsl(218,41%,20%) 75%,hsl(218,41%,19%) 80%,transparent 100%),radial-gradient(1250px circle at 100% 100%,hsl(218,41%,45%) 15%,hsl(218,41%,30%) 35%,hsl(218,41%,20%) 75%,hsl(218,41%,19%) 80%,transparent 100%)}#radius-shape-1[_ngcontent-%COMP%]{height:220px;width:220px;top:-60px;left:-130px;background:radial-gradient(#44006b,#ad1fff);overflow:hidden}#radius-shape-2[_ngcontent-%COMP%]{border-radius:38% 62% 63% 37%/70% 33% 67% 30%;bottom:-60px;right:-120px;width:300px;height:300px;background:radial-gradient(#44006b,#ad1fff);overflow:hidden}.bg-glass[_ngcontent-%COMP%]{background-color:#ffffffbf!important;-webkit-backdrop-filter:saturate(200%) blur(25px);backdrop-filter:saturate(200%) blur(25px)}h2[_ngcontent-%COMP%]{text-align:center;padding-bottom:50px}@media (max-width: 1542px){#radius-shape-2[_ngcontent-%COMP%]{right:-60px}}@media (max-width: 1037px){#radius-shape-2[_ngcontent-%COMP%]{right:-10px}}"]}),t})();function w(t,s){1&t&&(e.TgZ(0,"span",19),e._uU(1," No es un username valido "),e.qZA())}function A(t,s){1&t&&(e.TgZ(0,"span",19),e._uU(1," Debe ser un email correcto "),e.qZA())}function T(t,s){1&t&&(e.TgZ(0,"span",19),e._uU(1," Debe de ser mayor de 16 "),e.qZA())}function F(t,s){1&t&&(e.TgZ(0,"span",19),e._uU(1," Debe contener mayusculas, minusculas y m\xednimo un n\xfamero. "),e._UZ(2,"br"),e._uU(3," Su longitud debe ser de m\xednimo 6 caracteres. "),e.qZA())}function M(t,s){1&t&&(e.TgZ(0,"span",19),e._uU(1," No coincide con la contrase\xf1a introducida "),e.qZA())}const q=function(){return["/"]},m=i(5226),k=[{path:"",children:[{path:"registrer",component:(()=>{class t{constructor(n,r,a){this.fb=n,this.authService=r,this.router=a,this.myForm=this.fb.group({username:["",[o.kI.required,o.kI.minLength(3)]],email:["",[o.kI.required,o.kI.minLength(3)]],birth:["",[o.kI.required,this.ageValidator(16)]],password:["",[o.kI.required,o.kI.minLength(6),this.validatePassword]],repeatpassword:["",[o.kI.required,this.matchPassword]]})}ngOnInit(){this.user={username:"",email:"",birth:new Date,password:"",img:""}}validatePassword(n){const r=n.value,a=/[A-Z]/.test(r),l=/[a-z]/.test(r),p=/\d/.test(r);return a&&l&&p?null:{invalidPassword:!0}}matchPassword(n){const r=n.root.get("password");return r?r.value===n.value?null:{mismatch:!0}:null}ageValidator(n){return r=>{const a=new Date(r.value),l=Date.now()-a.getTime(),p=new Date(l),g=Math.abs(p.getUTCFullYear()-1970);return g>=n?null:{minAge:{value:g}}}}isValidField(n){return this.myForm.controls[n].errors&&this.myForm.controls[n].touched}save(){return!this.myForm.invalid||(this.myForm.markAllAsTouched(),!1)}send(){this.user.username=this.myForm.value.username,this.user.email=this.myForm.value.email,this.user.birth=this.myForm.value.birth,this.user.password=this.myForm.value.password,this.authService.registerUser(this.user).subscribe({next:n=>{m.fire({icon:"success",title:"Usuario creado!",text:"El usuario fue creado exitosamente!"}),this.router.navigate(["/auth/login"])},error:n=>{console.log(n),m.fire(409===n.status?{icon:"error",title:"Oops...El nombre de usuario ya existe!",text:"Inserte un username v\xe1lido"}:{icon:"error",title:"Oops...",text:"Hubo un error al registrar el usuario"})}})}onSubmit(){this.save()&&this.send()}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(o.qu),e.Y36(h.e),e.Y36(u.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-registrer"]],decls:41,vars:9,consts:[[1,"container","px-4","py-5","px-md-5","text-center","text-lg-start","my-5"],[1,"row","gx-lg-5","align-items-center","mb-5"],[1,"col-lg-8","mb-5","mb-lg-0","position-relative"],["id","radius-shape-1",1,"position-absolute","rounded-circle","shadow-5-strong"],["id","radius-shape-2",1,"position-absolute","shadow-5-strong"],[1,"card","bg-glass"],[1,"card-body","px-4","py-5","px-md-5"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-outline","mb-4"],[1,"form-label"],["type","text","placeholder","your username","formControlName","username",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["type","email","placeholder","example@example.com","formControlName","email",1,"form-control"],["type","date","formControlName","birth",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","password","formControlName","repeatpassword",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block","mb-4",3,"disabled"],[3,"routerLink"],[1,"btn","btn-secondary","btn-block","mb-4"],[1,"form-text","text-danger"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"div",3)(4,"div",4),e.TgZ(5,"div",5)(6,"div",6)(7,"h2"),e._uU(8,"Registro"),e.qZA(),e.TgZ(9,"form",7),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(10,"div",8)(11,"label",9),e._uU(12,"Username"),e.qZA(),e._UZ(13,"input",10),e.YNc(14,w,2,0,"span",11),e.qZA(),e.TgZ(15,"div",8)(16,"label",9),e._uU(17,"Email"),e.qZA(),e._UZ(18,"input",12),e.YNc(19,A,2,0,"span",11),e.qZA(),e.TgZ(20,"div",8)(21,"label",9),e._uU(22,"Fecha de nacimiento"),e.qZA(),e._UZ(23,"input",13),e.YNc(24,T,2,0,"span",11),e.qZA(),e.TgZ(25,"div",8)(26,"label",9),e._uU(27,"Contrase\xf1a"),e.qZA(),e._UZ(28,"input",14),e.YNc(29,F,4,0,"span",11),e.qZA(),e.TgZ(30,"div",8)(31,"label",9),e._uU(32,"Repita la contrase\xf1a"),e.qZA(),e._UZ(33,"input",15),e.YNc(34,M,2,0,"span",11),e.qZA(),e.TgZ(35,"button",16),e._uU(36," Enviar "),e.qZA(),e._uU(37," \xa0\xa0 "),e.TgZ(38,"a",17)(39,"button",18),e._uU(40," Cancelar "),e.qZA()()()()()()()()),2&n&&(e.xp6(9),e.Q6J("formGroup",r.myForm),e.xp6(5),e.Q6J("ngIf",r.isValidField("username")),e.xp6(5),e.Q6J("ngIf",r.isValidField("email")),e.xp6(5),e.Q6J("ngIf",r.isValidField("birth")),e.xp6(5),e.Q6J("ngIf",r.isValidField("password")),e.xp6(5),e.Q6J("ngIf",r.isValidField("repeatpassword")),e.xp6(1),e.Q6J("disabled",r.myForm.invalid),e.xp6(3),e.Q6J("routerLink",e.DdM(8,q)))},dependencies:[d.O5,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,u.yS],styles:[".background-radial-gradient[_ngcontent-%COMP%]{background-color:#172236;background-image:radial-gradient(650px circle at 0% 0%,hsl(218,41%,35%) 15%,hsl(218,41%,30%) 35%,hsl(218,41%,20%) 75%,hsl(218,41%,19%) 80%,transparent 100%),radial-gradient(1250px circle at 100% 100%,hsl(218,41%,45%) 15%,hsl(218,41%,30%) 35%,hsl(218,41%,20%) 75%,hsl(218,41%,19%) 80%,transparent 100%)}.row[_ngcontent-%COMP%]{justify-content:center}#radius-shape-1[_ngcontent-%COMP%]{height:220px;width:220px;top:-60px;left:-130px;background:radial-gradient(#44006b,#ad1fff);overflow:hidden}#radius-shape-2[_ngcontent-%COMP%]{border-radius:38% 62% 63% 37%/70% 33% 67% 30%;bottom:-60px;right:-120px;width:300px;height:300px;background:radial-gradient(#44006b,#ad1fff);overflow:hidden}.bg-glass[_ngcontent-%COMP%]{background-color:#ffffffbf!important;-webkit-backdrop-filter:saturate(200%) blur(25px);backdrop-filter:saturate(200%) blur(25px)}h2[_ngcontent-%COMP%]{text-align:center}@media (max-width: 1542px){#radius-shape-2[_ngcontent-%COMP%]{right:-60px}}@media (max-width: 1037px){#radius-shape-2[_ngcontent-%COMP%]{right:-10px}}"]}),t})()},{path:"login",component:C}]}];let J=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(k)]}),t})(),L=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,o.u5,o.UX,J,u.Bz]}),t})()}}]);