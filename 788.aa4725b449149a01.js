"use strict";(self.webpackChunksquadGG=self.webpackChunksquadGG||[]).push([[788],{788:(q,c,s)=>{s.r(c),s.d(c,{AuthModule:()=>M});var d=s(6895),n=s(433),u=s(7315),e=s(1571),h=s(9118);const f=["myForm"];function b(t,a){1&t&&(e.TgZ(0,"span",22),e._uU(1," Username es obligatorio "),e.qZA())}function x(t,a){1&t&&(e.TgZ(0,"span",22),e._uU(1," Contrase\xf1a es obligatoria "),e.qZA())}const v=function(){return["/auth/registrer"]},Z=s(5226);let _=(()=>{class t{constructor(r,o){this.authService=r,this.router=o,this.isLoggedIn=!1}ngOnInit(){}notValidUsername(){return this.myForm?.controls.username?.invalid&&this.myForm?.controls.username?.touched}notValidPassword(){return this.myForm?.controls.password?.invalid&&this.myForm?.controls.password?.touched}onlogin(){this.authService.login(this.myForm.value.username,this.myForm.value.password).subscribe({next:r=>{this.isLoggedIn=!0,r?this.router.navigate(["/game"]):(this.username="",this.password="",Z.fire({icon:"error",title:"Oops...",text:"User or password Wrong!",footer:'<a href="">Why do I have this issue?</a>'}),this.router.navigate(["/auth/login"]))}})}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(h.e),e.Y36(u.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],viewQuery:function(r,o){if(1&r&&e.Gf(f,5),2&r){let i;e.iGM(i=e.CRH())&&(o.myForm=i.first)}},decls:36,vars:7,consts:[[1,"container","px-4","py-5","px-md-5","text-center","text-lg-start","my-5"],[1,"row","gx-lg-5","align-items-center","mb-5"],[1,"col-lg-6","mb-5","mb-lg-0",2,"z-index","10"],[1,"my-5","display-5","fw-bold","ls-tight",2,"color","hsl(218, 81%, 95%)"],[2,"color","hsl(218, 81%, 75%)"],[1,"mb-4","opacity-70",2,"color","hsl(218, 81%, 85%)"],[1,"col-lg-6","mb-5","mb-lg-0","position-relative"],["id","radius-shape-1",1,"position-absolute","rounded-circle","shadow-5-strong"],["id","radius-shape-2",1,"position-absolute","shadow-5-strong"],[1,"card","bg-glass"],[1,"card-body","px-4","py-5","px-md-5"],["autocomplete","off",3,"ngSubmit"],["myForm","ngForm"],[1,"form-outline","mb-4"],["for","form3Example3",1,"form-label"],["type","text","id","form3Example3","name","username","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","form-text text-danger",4,"ngIf"],["for","form3Example4",1,"form-label"],["type","password","id","form3Example4","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","btn-block","mb-4",3,"disabled"],[1,"text-center"],[3,"routerLink"],[1,"form-text","text-danger"]],template:function(r,o){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4," The best offer "),e._UZ(5,"br"),e.TgZ(6,"span",4),e._uU(7,"for your business"),e.qZA()(),e.TgZ(8,"p",5),e._uU(9," Lorem ipsum dolor, sit amet consectetur adipisicing elit. Temporibus, expedita iusto veniam atque, magni tempora mollitia dolorum consequatur nulla, neque debitis eos reprehenderit quasi ab ipsum nisi dolorem modi. Quos? "),e.qZA()(),e.TgZ(10,"div",6),e._UZ(11,"div",7)(12,"div",8),e.TgZ(13,"div",9)(14,"div",10)(15,"h2"),e._uU(16,"Login"),e.qZA(),e.TgZ(17,"form",11,12),e.NdJ("ngSubmit",function(){return o.onlogin()}),e.TgZ(19,"div",13)(20,"label",14),e._uU(21,"Username"),e.qZA(),e.TgZ(22,"input",15),e.NdJ("ngModelChange",function(l){return o.username=l}),e.qZA(),e.YNc(23,b,2,0,"span",16),e.qZA(),e.TgZ(24,"div",13)(25,"label",17),e._uU(26,"Contrase\xf1a"),e.qZA(),e.TgZ(27,"input",18),e.NdJ("ngModelChange",function(l){return o.password=l}),e.qZA(),e.YNc(28,x,2,0,"span",16),e.qZA(),e.TgZ(29,"button",19),e._uU(30," Entrar "),e.qZA(),e.TgZ(31,"div",20)(32,"p"),e._uU(33,"Si no tienes una cuenta puedes "),e.TgZ(34,"a",21),e._uU(35,"registrarte"),e.qZA()()()()()()()()()),2&r){const i=e.MAs(18);e.xp6(22),e.Q6J("ngModel",o.username),e.xp6(1),e.Q6J("ngIf",o.notValidUsername()),e.xp6(4),e.Q6J("ngModel",o.password),e.xp6(1),e.Q6J("ngIf",o.notValidPassword()),e.xp6(1),e.Q6J("disabled",i.invalid),e.xp6(5),e.Q6J("routerLink",e.DdM(6,v))}},dependencies:[d.O5,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.On,n.F,u.yS],styles:[".background-radial-gradient[_ngcontent-%COMP%]{background-color:#172236;background-image:radial-gradient(650px circle at 0% 0%,hsl(218,41%,35%) 15%,hsl(218,41%,30%) 35%,hsl(218,41%,20%) 75%,hsl(218,41%,19%) 80%,transparent 100%),radial-gradient(1250px circle at 100% 100%,hsl(218,41%,45%) 15%,hsl(218,41%,30%) 35%,hsl(218,41%,20%) 75%,hsl(218,41%,19%) 80%,transparent 100%)}#radius-shape-1[_ngcontent-%COMP%]{height:220px;width:220px;top:-60px;left:-130px;background:radial-gradient(#44006b,#ad1fff);overflow:hidden}#radius-shape-2[_ngcontent-%COMP%]{border-radius:38% 62% 63% 37%/70% 33% 67% 30%;bottom:-60px;right:-120px;width:300px;height:300px;background:radial-gradient(#44006b,#ad1fff);overflow:hidden}.bg-glass[_ngcontent-%COMP%]{background-color:#ffffffbf!important;-webkit-backdrop-filter:saturate(200%) blur(25px);backdrop-filter:saturate(200%) blur(25px)}h2[_ngcontent-%COMP%]{text-align:center;padding-bottom:50px}@media (max-width: 1542px){#radius-shape-2[_ngcontent-%COMP%]{right:-60px}}@media (max-width: 1037px){#radius-shape-2[_ngcontent-%COMP%]{right:-10px}}"]}),t})();function y(t,a){1&t&&(e.TgZ(0,"span",17),e._uU(1," No es un username valido "),e.qZA())}function w(t,a){1&t&&(e.TgZ(0,"span",17),e._uU(1," Debe ser un email correcto "),e.qZA())}function C(t,a){1&t&&(e.TgZ(0,"span",17),e._uU(1," Debe de ser mayor de 16 "),e.qZA())}function T(t,a){1&t&&(e.TgZ(0,"span",17),e._uU(1," Debe contener mayusculas, minusculas y m\xednimo un n\xfamero. "),e._UZ(2,"br"),e._uU(3," Su longitud debe ser de m\xednimo 6 caracteres. "),e.qZA())}function A(t,a){1&t&&(e.TgZ(0,"span",17),e._uU(1," No coincide con la contrase\xf1a introducida "),e.qZA())}const m=s(5226),F=[{path:"",children:[{path:"registrer",component:(()=>{class t{constructor(r,o,i){this.fb=r,this.authService=o,this.router=i,this.myForm=this.fb.group({username:["",[n.kI.required,n.kI.minLength(3)]],email:["",[n.kI.required,n.kI.minLength(3)]],birth:["",[n.kI.required,this.ageValidator(16)]],password:["",[n.kI.required,n.kI.minLength(6),this.validatePassword]],repeatpassword:["",[n.kI.required,this.matchPassword]]})}ngOnInit(){this.user={username:"",email:"",birth:new Date,password:"",img:""}}validatePassword(r){const o=r.value,i=/[A-Z]/.test(o),l=/[a-z]/.test(o),p=/\d/.test(o);return i&&l&&p?null:{invalidPassword:!0}}matchPassword(r){const o=r.root.get("password");return o?o.value===r.value?null:{mismatch:!0}:null}ageValidator(r){return o=>{const i=new Date(o.value),l=Date.now()-i.getTime(),p=new Date(l),g=Math.abs(p.getUTCFullYear()-1970);return g>=r?null:{minAge:{value:g}}}}isValidField(r){return this.myForm.controls[r].errors&&this.myForm.controls[r].touched}save(){return!this.myForm.invalid||(this.myForm.markAllAsTouched(),!1)}send(){this.user.username=this.myForm.value.username,this.user.email=this.myForm.value.email,this.user.birth=this.myForm.value.birth,this.user.password=this.myForm.value.password,this.authService.registerUser(this.user).subscribe({next:r=>{console.log("Registro exitoso:",r),m.fire({icon:"success",title:"Usuario creado!",text:"El usuario fue creado exitosamente!"}),this.router.navigate(["/auth/login"])},error:r=>{console.log(r),m.fire(409===r.status?{icon:"error",title:"Oops...El nombre de usuario ya existe!",text:"Inserte un username v\xe1lido"}:{icon:"error",title:"Oops...",text:"Hubo un error al registrar el usuario"})}})}onSubmit(){this.save()&&this.send()}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(n.qu),e.Y36(h.e),e.Y36(u.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-registrer"]],decls:37,vars:7,consts:[[1,"container","px-4","py-5","px-md-5","text-center","text-lg-start","my-5"],[1,"row","gx-lg-5","align-items-center","mb-5"],[1,"col-lg-8","mb-5","mb-lg-0","position-relative"],["id","radius-shape-1",1,"position-absolute","rounded-circle","shadow-5-strong"],["id","radius-shape-2",1,"position-absolute","shadow-5-strong"],[1,"card","bg-glass"],[1,"card-body","px-4","py-5","px-md-5"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-outline","mb-4"],[1,"form-label"],["type","text","placeholder","your username","formControlName","username",1,"form-control"],["class","form-text text-danger",4,"ngIf"],["type","email","placeholder","example@example.com","formControlName","email",1,"form-control"],["type","date","formControlName","birth",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["type","password","formControlName","repeatpassword",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block","mb-4",3,"disabled"],[1,"form-text","text-danger"]],template:function(r,o){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"div",3)(4,"div",4),e.TgZ(5,"div",5)(6,"div",6)(7,"h2"),e._uU(8,"Registro"),e.qZA(),e.TgZ(9,"form",7),e.NdJ("ngSubmit",function(){return o.onSubmit()}),e.TgZ(10,"div",8)(11,"label",9),e._uU(12,"Username"),e.qZA(),e._UZ(13,"input",10),e.YNc(14,y,2,0,"span",11),e.qZA(),e.TgZ(15,"div",8)(16,"label",9),e._uU(17,"Email"),e.qZA(),e._UZ(18,"input",12),e.YNc(19,w,2,0,"span",11),e.qZA(),e.TgZ(20,"div",8)(21,"label",9),e._uU(22,"Fecha de nacimiento"),e.qZA(),e._UZ(23,"input",13),e.YNc(24,C,2,0,"span",11),e.qZA(),e.TgZ(25,"div",8)(26,"label",9),e._uU(27,"Contrase\xf1a"),e.qZA(),e._UZ(28,"input",14),e.YNc(29,T,4,0,"span",11),e.qZA(),e.TgZ(30,"div",8)(31,"label",9),e._uU(32,"Repita la contrase\xf1a"),e.qZA(),e._UZ(33,"input",15),e.YNc(34,A,2,0,"span",11),e.qZA(),e.TgZ(35,"button",16),e._uU(36," Enviar "),e.qZA()()()()()()()),2&r&&(e.xp6(9),e.Q6J("formGroup",o.myForm),e.xp6(5),e.Q6J("ngIf",o.isValidField("username")),e.xp6(5),e.Q6J("ngIf",o.isValidField("email")),e.xp6(5),e.Q6J("ngIf",o.isValidField("birth")),e.xp6(5),e.Q6J("ngIf",o.isValidField("password")),e.xp6(5),e.Q6J("ngIf",o.isValidField("repeatpassword")),e.xp6(1),e.Q6J("disabled",o.myForm.invalid))},dependencies:[d.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u],styles:[".background-radial-gradient[_ngcontent-%COMP%]{background-color:#172236;background-image:radial-gradient(650px circle at 0% 0%,hsl(218,41%,35%) 15%,hsl(218,41%,30%) 35%,hsl(218,41%,20%) 75%,hsl(218,41%,19%) 80%,transparent 100%),radial-gradient(1250px circle at 100% 100%,hsl(218,41%,45%) 15%,hsl(218,41%,30%) 35%,hsl(218,41%,20%) 75%,hsl(218,41%,19%) 80%,transparent 100%)}.row[_ngcontent-%COMP%]{justify-content:center}#radius-shape-1[_ngcontent-%COMP%]{height:220px;width:220px;top:-60px;left:-130px;background:radial-gradient(#44006b,#ad1fff);overflow:hidden}#radius-shape-2[_ngcontent-%COMP%]{border-radius:38% 62% 63% 37%/70% 33% 67% 30%;bottom:-60px;right:-120px;width:300px;height:300px;background:radial-gradient(#44006b,#ad1fff);overflow:hidden}.bg-glass[_ngcontent-%COMP%]{background-color:#ffffffbf!important;-webkit-backdrop-filter:saturate(200%) blur(25px);backdrop-filter:saturate(200%) blur(25px)}h2[_ngcontent-%COMP%]{text-align:center}@media (max-width: 1542px){#radius-shape-2[_ngcontent-%COMP%]{right:-60px}}@media (max-width: 1037px){#radius-shape-2[_ngcontent-%COMP%]{right:-10px}}"]}),t})()},{path:"login",component:_}]}];let U=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.Bz.forChild(F)]}),t})(),M=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.ez,n.u5,n.UX,U,u.Bz]}),t})()}}]);